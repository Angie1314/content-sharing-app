<main class="mx-auto">
  <div class="d-flex flex-column mb-3">
    <img class="align-self-center" id="image-container" [src]="imageUrl" />
  </div>

  <div class="d-flex mb-3 align-items-center" *ngIf="user">
    <fa-icon *ngIf="user.photoURL === 'undefined'" [icon]="faUserCircle" class="mr-3 ml-2 my-auto"></fa-icon>
    <img *ngIf="user.photoURL !== 'undefined'" [src]="user.photoURL" alt="profile picture"
      class="rounded-circle image-size mr-2 my-auto">
    <div class="font-weight-bold">{{user.displayName}}</div>

    <div ngbDropdown class="d-inline-block ml-auto">
      <button class="img-button border-0 ml-auto" id="post-dropdown" ngbDropdownToggle>
        <fa-icon [icon]="faEllipsisV"></fa-icon>
      </button>

      <div ngbDropdownMenu aria-labelledby="post-dropdown" placement="right-bottom">
        <button ngbDropdownItem (click)="openConfirmModal()" [disabled]="isDeleting">
          <div *ngIf="isDeleting" class="spinner-border spinner-border-sm mr-2" role="status">
            <span class="sr-only">Loading...</span>
          </div>

          Delete post
        </button>
        <button ngbDropdownItem (click)="openPhotoInfoModal()" [disabled]="!image">Photo details</button>
        <button ngbDropdownItem (click)="downloadImage()" [disabled]="isDownloading">
          Download photo
      
          <div *ngIf="isLoading" class="spinner-border spinner-border-sm ml-2" role="status">
            <span class="sr-only">Loading...</span>
          </div>
        </button>
      </div>
    </div>
  </div>

  <div>
    <p class="text-justify">
      {{ image?.description }}
    </p>
  </div>
</main>
